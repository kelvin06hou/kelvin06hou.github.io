<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fixed Time Quiz</title>
</head>
<body>
<h2>Question: What is 6 Ã— 7?</h2>
<input type="text" id="userInput" placeholder="Your answer">
<button id="saveBtn">Submit</button>

<p id="status"></p>

<script>
const inputField = document.getElementById('userInput');
const saveBtn = document.getElementById('saveBtn');
const status = document.getElementById('status');

// Set the fixed publish time (today at 13:00)
const now = new Date();
const publishTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 13, 0, 0).getTime();

// Load previous answer if any
const savedAnswer = localStorage.getItem('userInput');
if (savedAnswer) inputField.value = savedAnswer;

// Function to check time and update UI
function checkTime() {
    const currentTime = new Date().getTime();

    if (currentTime >= publishTime) {
        // Disable / hide button after publish time
        saveBtn.disabled = true;
        saveBtn.style.display = 'none';

        // Show correct answer and marks
        const userAnswer = localStorage.getItem('userInput') || "(No answer)";
        const correctAnswer = "42";
        const marks = (userAnswer === correctAnswer) ? 1 : 0;

        status.textContent = `Correct answer: ${correctAnswer}\nYour answer: ${userAnswer}\nMarks: ${marks}`;
    } else {
        // Show countdown until publish time
        const secondsLeft = Math.ceil((publishTime - currentTime) / 1000);
        const minutes = Math.floor(secondsLeft / 60);
        const seconds = secondsLeft % 60;
        status.textContent = `You can submit your answer. Time left: ${minutes}m ${seconds}s`;
    }
}

// Run check immediately and every second
checkTime();
setInterval(checkTime, 1000);

// Save button click
saveBtn.addEventListener('click', () => {
    const answer = inputField.value;
    localStorage.setItem('userInput', answer);
    status.textContent = "Your answer has been recorded!";
});
</script>
</body>
</html>