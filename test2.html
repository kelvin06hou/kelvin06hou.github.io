<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Code Judge</title>
<style>
textarea {
    width: 100%;
    height: 200px;
    font-family: Consolas, monospace;
    font-size: 14px;
}
.result {
    margin-top: 20px;
    padding: 10px;
    border-radius: 6px;
    background: #f4f4f4;
    white-space: pre-wrap;
}
</style>
</head>
<body>

<h2>Write your code (JavaScript)</h2>
<textarea id="code-input">
// Must define a function solve(input)
function solve(input) {
    return input * 2;
}
</textarea>

<button onclick="runTests()">Run Tests</button>

<div class="result" id="result-box">Output will appear hereâ€¦</div>

<script>
// ===============================================
// Hidden Test Cases (Black-box Testing)
// ===============================================
const tests = [
    {input: 2, expected: 4},
    {input: 5, expected: 10},
    {input: 10, expected: 20},
    {input: -3, expected: -6},
    {input: 0, expected: 0},
    {input: 12, expected: 24},
    {input: 7, expected: 14},
    {input: 99, expected: 198},
    {input: -20, expected: -40},
    {input: 1, expected: 2}
];

function runTests() {
    const userCode = document.getElementById("code-input").value;
    let resultText = "";

    try {
        // Evaluate user code safely
        eval(userCode);

        if (typeof solve !== "function") {
            document.getElementById("result-box").textContent =
                "Error: You must define a function solve(input)";
            return;
        }

        let passed = 0;

        tests.forEach((t, index) => {
            let actual = solve(t.input);
            if (actual === t.expected) {
                resultText += `Test ${index+1}: PASS\n`;
                passed++;
            } else {
                resultText += `Test ${index+1}: FAIL (expected ${t.expected}, got ${actual})\n`;
            }
        });

        resultText += `\nTotal Passed: ${passed}/10`;

        if (passed === tests.length) {
            resultText += "\nðŸŽ‰ Congratulations! You passed all test cases!";
        }

        document.getElementById("result-box").textContent = resultText;

    } catch (err) {
        document.getElementById("result-box").textContent =
            "Runtime Error:\n" + err;
    }
}
</script>

</body>
</html>